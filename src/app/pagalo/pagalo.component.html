<app-header></app-header>

<div class="page-layout">
  <app-sidebar></app-sidebar> <!-- Sidebar agregado aquí -->

  <div class="pagalo-container">
    <h1>Paga tu Envío</h1>

    <form (ngSubmit)="onSubmit()" #paymentForm="ngForm">
      <!-- Monto -->
      <div class="form-group">
        <label for="amount">Monto:</label>
        <input
          type="text"
          id="amount"
          [(ngModel)]="paymentDetails.amount"
          name="amount"
          required
          #amount="ngModel"
          [ngClass]="{ 'is-invalid': amount.invalid && amount.touched }"
        >
        <div *ngIf="amount.invalid && amount.touched" class="invalid-feedback">
          El monto es requerido.
        </div>
      </div>

      <!-- Método de Pago -->
      <div class="form-group">
        <label for="method">Método de Pago:</label>
        <select
          id="method"
          [(ngModel)]="paymentDetails.method"
          name="method"
          required
          #method="ngModel"
          [ngClass]="{ 'is-invalid': method.invalid && method.touched }"
        >
          <option value="">Seleccione un método</option>
          <option value="credit-card">Tarjeta de Crédito</option>
          <option value="paypal">PayPal</option>
          <option value="bank-transfer">Transferencia Bancaria</option>
        </select>
        <div *ngIf="method.invalid && method.touched" class="invalid-feedback">
          El método de pago es requerido.
        </div>
      </div>

      <!-- Información de Tarjeta (Sólo si se selecciona Tarjeta de Crédito) -->
      <div *ngIf="paymentDetails.method === 'credit-card'">
        <div class="form-group">
          <label for="cardNumber">Número de Tarjeta:</label>
          <input
            type="text"
            id="cardNumber"
            [(ngModel)]="paymentDetails.cardNumber"
            name="cardNumber"
            required
            #cardNumber="ngModel"
            [ngClass]="{ 'is-invalid': cardNumber.invalid && cardNumber.touched }"
          >
          <div *ngIf="cardNumber.invalid && cardNumber.touched" class="invalid-feedback">
            El número de tarjeta es requerido.
          </div>
        </div>

        <div class="form-group">
          <label for="cardExpiry">Fecha de Expiración:</label>
          <input
            type="text"
            id="cardExpiry"
            [(ngModel)]="paymentDetails.cardExpiry"
            name="cardExpiry"
            required
            #cardExpiry="ngModel"
            [ngClass]="{ 'is-invalid': cardExpiry.invalid && cardExpiry.touched }"
          >
          <div *ngIf="cardExpiry.invalid && cardExpiry.touched" class="invalid-feedback">
            La fecha de expiración es requerida.
          </div>
        </div>

        <div class="form-group">
          <label for="cardCvv">CVV:</label>
          <input
            type="text"
            id="cardCvv"
            [(ngModel)]="paymentDetails.cardCvv"
            name="cardCvv"
            required
            #cardCvv="ngModel"
            [ngClass]="{ 'is-invalid': cardCvv.invalid && cardCvv.touched }"
          >
          <div *ngIf="cardCvv.invalid && cardCvv.touched" class="invalid-feedback">
            El CVV es requerido.
          </div>
        </div>
      </div>

      <!-- Botón de Pago -->
      <button type="submit" [disabled]="!paymentForm.form.valid">Pagar</button>
    </form>
  </div>
</div>
